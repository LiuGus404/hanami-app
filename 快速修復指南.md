# 試堂學生顯示問題 - 快速修復指南

## 🚀 立即解決步驟

### 1. 執行修復腳本
在 Supabase SQL 編輯器中執行：
```sql
-- 複製並執行 fix_trial_students.sql 的內容
```

**如果試堂學生表有資料但無法顯示，執行：**
```sql
-- 複製並執行 test_trial_access.sql 的內容
```

### 2. 使用頁面調試工具
1. 打開學生管理頁面 (`/admin/students`)
2. 點擊「詳細診斷」按鈕
3. 查看診斷結果
4. 如果沒有試堂學生，點擊「插入測試資料」

### 3. 測試顯示功能
1. 點擊「只顯示試堂學生」按鈕
2. 確認試堂學生出現在列表中
3. 測試篩選和排序功能

## 🔧 如果仍有問題

### 檢查控制台錯誤
1. 打開瀏覽器開發者工具 (F12)
2. 查看 Console 標籤
3. 尋找紅色錯誤信息

### 常見錯誤及解決方法

| 錯誤信息 | 解決方法 |
|---------|---------|
| "relation does not exist" | 執行 `fix_trial_students.sql` |
| "permission denied" | 檢查用戶權限，確認已登入 |
| "RPC not available" | 使用 `simple_trial_diagnosis.sql` 替代 |

### 手動檢查資料庫
在 Supabase SQL 編輯器中執行：
```sql
-- 檢查試堂學生數量
SELECT COUNT(*) FROM hanami_trial_students;

-- 查看試堂學生資料
SELECT * FROM hanami_trial_students LIMIT 5;
```

## 📞 需要幫助？

如果問題持續存在，請提供：
1. 瀏覽器控制台的錯誤信息
2. 診斷按鈕的輸出結果
3. 資料庫查詢的結果

---

**注意**：修復腳本會自動處理大部分常見問題，包括表創建、RLS策略設置和測試資料插入。 